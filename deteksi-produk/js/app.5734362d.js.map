{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue","webpack:///./src/components/InvoiceTable.vue","webpack:///./src/plugins/Helper.js","webpack:///./src/components/InvoiceTable.vue?f306","webpack:///./src/components/ModelStatus.vue","webpack:///./src/components/ModelStatus.vue?3aa0","webpack:///./src/components/ClassDetected.vue","webpack:///./src/components/ClassDetected.vue?32c9","webpack:///./src/plugins/ObjectDetection.js","webpack:///./src/plugins/DetectionResult.js","webpack:///./src/App.vue?8ecf","webpack:///./src/main.js","webpack:///./src/components/InvoiceTable.vue?3af2","webpack:///./src/App.vue?b828"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","class","id","style","for","type","ref","_fileInputChanged","accept","alt","src","imageUrl","isImageLoaded","boundingBoxes","item","index","bbox_data","isVisible","detectedClasses","_toggleVisiblityPressed","isPredicting","isLoadingModel","PriceFormat","invoiceDetails","total","tableData","invoice","isPredicted","_detectBtnPressed","_resetBtnPressed","detectionTime","colspan","AccuracyFormat","score","price","NumFormat","val","x","isNaN","re","toFixed","Math","max","replace","RegExp","decimal","section","parseFloat","ScaleBetweenResolution","from_width","to_width","scale","CreateBBoxUrlData","virtual_canvas","image","canvas","document","getElementById","width","naturalWidth","height","naturalHeight","offsetWidth","ctx","getContext","clearRect","font_size","parseInt","margin","lineWidth","font","textBaseline","bbox","y","label","strokeStyle","color","strokeRect","fillStyle","textWidth","measureText","textHeight","fillRect","font_color","fillText","toDataURL","props","Array","methods","__exports__","Boolean","itemPressed","quantity","this","$emit","tf","ObjectDetection","model_url","classes_url","model","classes","freeze","fetch","then","json","detection_threshold","isModelLoaded","console","error","undefined","isClassesLoaded","_preprocessImg","executeAsync","detection","detectionObjects","_buildDetectedObjects","dataSync","scores","arraySync","boxes","classesDir","threshold","frame","tfimg","fromPixels","toInt","expandedimg","transpose","expandDims","forEach","minY","minX","maxY","maxX","DetectionResult","isArray","raw_detection","itemExist","reduce","sum","BASE_URL","components","InvoiceTable","ModelStatus","ClassDetected","objDetect","detectResult","imageSize","event","file","target","files","URL","createObjectURL","timeStart","Date","now","detect","renderBoundingBox","timeEnd","log","alert","$refs","ref_image_input","class_id","groupedInvoice","map","computed","items","invoiceTotal","mounted","loadClasses","loadModel","render","createApp","App","mount"],"mappings":"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","file":"js/app.5734362d.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","<template>\r\n    <div class=\"container-fluid\">\r\n        <!-- Predicted Result (Hidden Instances) -->\r\n        <canvas id=\"temp-canvas\" v-show=\"false\"></canvas>\r\n\r\n        <!-- File Input Instances (Hidden Instances) -->\r\n        <input\r\n            type=\"file\"\r\n            v-show=\"false\"\r\n            name=\"image_input\"\r\n            ref=\"ref_image_input\"\r\n            id=\"image_input\"\r\n            @change=\"_fileInputChanged\"\r\n            accept=\"image/jpg, image/jpeg, image/png\"\r\n        />\r\n\r\n        <div class=\"card m-3 shadow\">\r\n            <div class=\"row g-0 card-root\" style=\"min-height: 35rem\">\r\n                <div class=\"col-md-6 col-12 bg-dark img-container\">\r\n                    <!-- Image -->\r\n                    <img\r\n                        id=\"predict-image\"\r\n                        alt=\"Image\"\r\n                        v-show=\"isImageLoaded\"\r\n                        class=\"img-fluid\"\r\n                        :src=\"imageUrl\"\r\n                    />\r\n\r\n                    <!-- Bounding Boxes -->\r\n                    <img\r\n                        :src=\"item.bbox_data\"\r\n                        :alt=\"index\"\r\n                        :key=\"index\"\r\n                        v-for=\"(item, index) in boundingBoxes\"\r\n                        v-show=\"item.isVisible\"\r\n                    />\r\n\r\n                    <!-- Image Input Button -->\r\n                    <div class=\"image-input\" v-if=\"!isImageLoaded\">\r\n                        <i class=\"material-icons text-white my-2\">\r\n                            add_a_photo\r\n                        </i>\r\n                        <label for=\"image_input\">\r\n                            <a class=\"btn btn-success\">\r\n                                <i class=\"material-icons me-2\">add</i>\r\n                                Input Gambar\r\n                            </a>\r\n                        </label>\r\n                    </div>\r\n\r\n                    <!-- Class Detected -->\r\n                    <ClassDetected\r\n                        :detectedClasses=\"detectedClasses\"\r\n                        @itemPressed=\"_toggleVisiblityPressed\"\r\n                    />\r\n\r\n                    <!-- Loading -->\r\n                    <div class=\"loading-mask\" v-if=\"isPredicting\">\r\n                        <div class=\"spinner-border text-primary\" style=\"width: 3rem; height: 3rem;\">\r\n                            <span class=\"visually-hidden\">Loading...</span>\r\n                        </div>\r\n                        <span class=\"text-white\">\r\n                            Memproses\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"col-md-6 col-12 d-flex flex-column p-3\">\r\n                    <!-- Model Status -->\r\n                    <ModelStatus :isLoadingModel=\"isLoadingModel\" />\r\n\r\n                    <!-- Total -->\r\n                    <span class=\"text-end\">Total</span>\r\n                    <h1 class=\"text-end\">\r\n                        {{ PriceFormat(invoiceDetails.total, 2) }}-\r\n                    </h1>\r\n\r\n                    <hr />\r\n\r\n                    <!-- Invoice Table -->\r\n                    <InvoiceTable :tableData=\"invoice\" />\r\n\r\n                    <!-- Buttons -->\r\n                    <div class=\"d-flex flex-row align-items-center\">\r\n                        <!-- Detect Button -->\r\n                        <button\r\n                            class=\"btn btn-primary me-2\"\r\n                            @click=\"_detectBtnPressed\"\r\n                            :class=\"{ disabled: !isImageLoaded || isPredicted }\"\r\n                        >\r\n                            <i class=\"material-icons me-2\"\r\n                                >filter_center_focus</i\r\n                            >\r\n                            Deteksi\r\n                        </button>\r\n\r\n                        <!-- Reset Button -->\r\n                        <button\r\n                            class=\"btn btn-danger me-2\"\r\n                            @click=\"_resetBtnPressed\"\r\n                            :class=\"{ disabled: !isImageLoaded }\"\r\n                        >\r\n                            <i class=\"material-icons me-2\">cached</i>\r\n                            Reset\r\n                        </button>\r\n\r\n                        <!-- Detection Time -->\r\n                        <i class=\"flex-fill text-end\" v-if=\"detectionTime\">\r\n                            <i class=\"material-icons me-2\">timer</i>\r\n                            <span class=\"fs-6\">{{ detectionTime }} ms</span>\r\n                        </i>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nconst BASE_URL = \"./\";\r\n\r\nimport InvoiceTable from \"./components/InvoiceTable.vue\";\r\nimport ModelStatus from \"./components/ModelStatus.vue\";\r\nimport ClassDetected from \"./components/ClassDetected.vue\";\r\n\r\nimport { CreateBBoxUrlData, PriceFormat } from \"./plugins/Helper\";\r\nimport ObjectDetection from \"./plugins/ObjectDetection\";\r\nimport DetectionResult from \"./plugins/DetectionResult\";\r\n\r\nexport default {\r\n    name: \"App\",\r\n    components: {\r\n        InvoiceTable,\r\n        ModelStatus,\r\n        ClassDetected,\r\n    },\r\n    data() {\r\n        return {\r\n            objDetect: null,\r\n            detectResult: null,\r\n            boundingBoxes: [],\r\n            classes: [],\r\n            detectedClasses: [],\r\n\r\n            imageUrl: \"\",\r\n            imageSize: { width: 0, height: 0 },\r\n\r\n            isImageLoaded: false,\r\n            isLoadingModel: false,\r\n            isPredicting: false,\r\n            isPredicted: false,\r\n\r\n            detectionTime: 0,\r\n        };\r\n    },\r\n    methods: {\r\n        CreateBBoxUrlData,\r\n        PriceFormat,\r\n\r\n        _fileInputChanged(event) {\r\n            const file = event.target.files[0];\r\n            this.imageUrl = URL.createObjectURL(file);\r\n            if (this.imageUrl != \"\") this.isImageLoaded = true;\r\n        },\r\n        async _detectBtnPressed() {\r\n            const timeStart = Date.now();\r\n            const image = document.getElementById(\"predict-image\");\r\n\r\n            this.isPredicting = true;\r\n            this.isPredicted = false;\r\n\r\n            this.detectResult = new DetectionResult(\r\n                await this.objDetect.detect(image, 0.5)\r\n            );\r\n\r\n            if (this.detectResult?.length > 0) {\r\n                this.renderBoundingBox();\r\n                this.isPredicted = true;\r\n\r\n                const timeEnd = Date.now();\r\n                this.detectionTime = timeEnd - timeStart;\r\n                console.log(\"Time\", this.detectionTime);\r\n            } else {\r\n                alert(\"Tidak terdeteksi produk\");\r\n            }\r\n            this.isPredicting = false;\r\n        },\r\n        _resetBtnPressed() {\r\n            this.$refs.ref_image_input.value = null;\r\n            this.boundingBoxes = [];\r\n            this.detectedClasses = [];\r\n            this.detectResult = null;\r\n            this.imageUrl = \"\";\r\n            this.isImageLoaded = false;\r\n            this.isPredicted = false;\r\n            this.detectionTime = 0;\r\n        },\r\n        _toggleVisiblityPressed(index) {\r\n            const class_id = this.detectedClasses[index].id;\r\n            const isVisible = this.detectedClasses[index].isVisible;\r\n            this.detectedClasses[index].isVisible = !isVisible;\r\n            this.boundingBoxes.forEach((bbox, i) => {\r\n                if (bbox.class_id == class_id) {\r\n                    this.boundingBoxes[i].isVisible = !isVisible;\r\n                }\r\n            });\r\n        },\r\n        renderBoundingBox() {\r\n            this.boundingBoxes = [];\r\n\r\n            if (this.detectResult.length < 1) {\r\n                return;\r\n            }\r\n            const image = document.getElementById(\"predict-image\");\r\n            this.detectedClasses = this.groupedInvoice.map((item) => ({\r\n                ...item,\r\n                isVisible: true,\r\n            }));\r\n\r\n            this.detectResult.invoice.forEach((item) => {\r\n                const bbox_data = this.CreateBBoxUrlData(\r\n                    \"temp-canvas\",\r\n                    item,\r\n                    image\r\n                );\r\n\r\n                this.boundingBoxes.push({\r\n                    class_id: item.class.id,\r\n                    bbox_data,\r\n                    isVisible: true,\r\n                });\r\n            });\r\n        },\r\n    },\r\n    computed: {\r\n        invoice() {\r\n            if (!this.detectResult) return [];\r\n            return this.detectResult.invoice;\r\n        },\r\n        invoiceDetails() {\r\n            if (!this.detectResult) return { items: 0, total: 0 };\r\n            return {\r\n                items: this.detectResult.length,\r\n                total: this.detectResult.invoiceTotal,\r\n            };\r\n        },\r\n        groupedInvoice() {\r\n            if (!this.detectResult) return [];\r\n            return this.detectResult.groupedInvoice;\r\n        },\r\n    },\r\n    async mounted() {\r\n        this.isPredicted = false;\r\n\r\n        this.objDetect = new ObjectDetection({\r\n            model_url: BASE_URL + \"model/model.json\",\r\n            classes_url: BASE_URL + \"product_data.json\",\r\n        });\r\n\r\n        this.isLoadingModel = true;\r\n\r\n        this.classes = await this.objDetect.loadClasses();\r\n        await this.objDetect.loadModel();\r\n        \r\n        this.isLoadingModel = false;\r\n    },\r\n};\r\n</script>\r\n\r\n<style>\r\n@import \"./style.css\";\r\n</style>","<template>\r\n    <div\r\n        class=\"table-responsive flex-fill\"\r\n        style=\"max-height: 35rem; overflow-y: auto\"\r\n    >\r\n        <table class=\"table table-striped\">\r\n            <thead>\r\n                <tr>\r\n                    <th class=\"col-num\"><span class=\"text\"></span></th>\r\n                    <th class=\"col-title\">\r\n                        <span class=\"text\">Nama Item</span>\r\n                    </th>\r\n                    <th class=\"col-accuracy\">\r\n                        <span class=\"text\">Akurasi</span>\r\n                    </th>\r\n                    <th class=\"col-price\"><span class=\"text\">Harga</span></th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr v-if=\"!tableData.length\">\r\n                    <td colspan=\"5\" style=\"box-shadow: none\">\r\n                        <div class=\"d-flex flex-column align-items-center my-5\">\r\n                            <i\r\n                                class=\"text-secondary material-icons\"\r\n                                style=\"font-size: 3rem\"\r\n                            >\r\n                                production_quantity_limits\r\n                            </i>\r\n                            <h5\r\n                                class=\"text-secondary\"\r\n                                style=\"font-size: 1.5rem\"\r\n                            >\r\n                                Tidak ada barang\r\n                            </h5>\r\n                        </div>\r\n                    </td>\r\n                </tr>\r\n                <tr v-else v-for=\"(item, index) in tableData\" :key=\"index\">\r\n                    <td class=\"col-num\">{{ index + 1 }}</td>\r\n                    <td class=\"col-title\">{{ item.class.name }}</td>\r\n                    <td class=\"col-accuracy\">\r\n                        {{ AccuracyFormat(item.score) }}\r\n                    </td>\r\n                    <td class=\"col-price\">\r\n                        {{ PriceFormat(item.class.price) }}\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { AccuracyFormat, PriceFormat } from \"./../plugins/Helper\";\r\n\r\nexport default {\r\n    props: {\r\n        tableData: Array,\r\n    },\r\n    methods: {\r\n        AccuracyFormat,\r\n        PriceFormat,\r\n    },\r\n};\r\n</script>\r\n\r\n<style>\r\ntd {\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n}\r\n.col-num {\r\n    min-width: 10%;\r\n}\r\n\r\n.col-title {\r\n    min-width: 55%;\r\n}\r\n\r\n.col-price {\r\n    min-width: 25%;\r\n}\r\n\r\n.col-accuracy {\r\n    min-width: 10%;\r\n}\r\n\r\n.col-total {\r\n    min-width: 0%;\r\n}\r\n</style>","// src: https://stackoverflow.com/a/14428340\r\nconst NumFormat = (val, n, x) => {\r\n    if (isNaN(val))\r\n        return '-'\r\n    var re = '\\\\d(?=(\\\\d{' + (x || 3) + '})+' + (n > 0 ? '\\\\.' : '$') + ')'\r\n    return val.toFixed(Math.max(0, ~~n)).replace(new RegExp(re, 'g'), '$&,')\r\n}\r\n\r\nconst PriceFormat = (value, decimal, section) => {\r\n    decimal = decimal || 0\r\n    section = section || 3\r\n    return \"Rp.\" + NumFormat(value, decimal, section)\r\n}\r\nconst AccuracyFormat = (value) => {\r\n    return parseFloat(value*100).toFixed(1) + \"%\"\r\n}\r\n\r\nconst ScaleBetweenResolution = (from_width, to_width) => {\r\n    const scale = to_width / from_width\r\n    // console.log({from_width, to_width, scale})\r\n    return scale\r\n}\r\n\r\nconst CreateBBoxUrlData = (virtual_canvas, item, image) => {\r\n    const canvas  = document.getElementById(virtual_canvas)\r\n    canvas.width = image.naturalWidth\r\n    canvas.height = image.naturalHeight\r\n\r\n    // Mencari skala antara gambar resolusi pada layar dengan resolusi original \r\n    const scale = ScaleBetweenResolution(image.offsetWidth, image.naturalWidth)\r\n\r\n    // Besrsihkan canvas\r\n    const ctx = canvas.getContext(\"2d\")\r\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height)\r\n    \r\n    // Config + scaling\r\n    const font_size = parseInt(14  * scale)\r\n    const margin = parseInt(2 * scale)\r\n    const lineWidth = parseInt(4 * scale)\r\n    \r\n    // Font\r\n    ctx.font = font_size+\"px sans-serif\"\r\n    ctx.textBaseline = \"top\"\r\n\r\n    // Bounding box\r\n    const x = item.bbox[0]\r\n    const y = item.bbox[1]\r\n    const width = item.bbox[2]\r\n    const height = item.bbox[3]\r\n    const score = AccuracyFormat(item.score)\r\n    const label = `${item.class.name} ${score}`\r\n\r\n    // Gambar bounding box pada canvas\r\n    ctx.strokeStyle = item.class.color\r\n    ctx.lineWidth = lineWidth\r\n    ctx.strokeRect(x, y, width, height)\r\n\r\n    // Gambar background untuk label\r\n    ctx.fillStyle = item.class.color\r\n    const textWidth = ctx.measureText(label).width\r\n    const textHeight = font_size\r\n    ctx.fillRect(x, y, textWidth + (margin*2), textHeight + (margin*2))\r\n\r\n    // Gambar text\r\n    ctx.fillStyle = item.class.font_color\r\n    ctx.fillText(label, x + margin, y + margin)\r\n\r\n    // Convert to image data url\r\n    return canvas.toDataURL('image/png')\r\n}\r\n\r\nexport { \r\n    NumFormat, PriceFormat, AccuracyFormat, \r\n    CreateBBoxUrlData\r\n}","import { render } from \"./InvoiceTable.vue?vue&type=template&id=85fa55c2\"\nimport script from \"./InvoiceTable.vue?vue&type=script&lang=js\"\nexport * from \"./InvoiceTable.vue?vue&type=script&lang=js\"\n\nimport \"./InvoiceTable.vue?vue&type=style&index=0&id=85fa55c2&lang=css\"\n\nimport exportComponent from \"C:\\\\repos\\\\deteksi_produk-electron\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n    <span\r\n        class=\"align-middle\"\r\n        :class=\"isLoadingModel ? 'text-warning' : 'text-success'\"\r\n    >\r\n        <div v-if=\"isLoadingModel\" class=\"spinner-border spinner-border-sm\">\r\n            <span class=\"visually-hidden\">Loading...</span>\r\n        </div>\r\n\r\n        <i v-else class=\"material-icons me-2\">check_circle </i>\r\n        <span>{{ isLoadingModel ? \" Loading Model\" : \" Models Loaded\" }}</span>\r\n    </span>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    props: {\r\n        isLoadingModel: Boolean,\r\n    },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>","import { render } from \"./ModelStatus.vue?vue&type=template&id=73048e90\"\nimport script from \"./ModelStatus.vue?vue&type=script&lang=js\"\nexport * from \"./ModelStatus.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\repos\\\\deteksi_produk-electron\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n    <div class=\"classes p-3\">\r\n        <div\r\n            class=\"btn btn-sm btn-secondary m-1\"\r\n            v-for=\"(item, index) in detectedClasses\"\r\n            @click=\"itemPressed(index)\"\r\n            :key=\"index\"\r\n            :style=\"\r\n                item.isVisible\r\n                    ? [\r\n                          '--bs-btn-bg:' + item.color,\r\n                          '--bs-btn-color:' + item.font_color,\r\n                          '--bs-btn-border-color:' + item.color,\r\n                      ]\r\n                    : []\r\n            \"\r\n        >\r\n            <i class=\"material-icons me-2\" v-if=\"item.isVisible\">visibility</i>\r\n            <i class=\"material-icons me-2\" v-else>visibility_off</i>\r\n            {{ `${item.name} ( ${item.quantity} )` }}\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    props: {\r\n        detectedClasses: Array\r\n    },\r\n    methods: {\r\n        itemPressed(index){\r\n             this.$emit('itemPressed', index)\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>","import { render } from \"./ClassDetected.vue?vue&type=template&id=1eea9958\"\nimport script from \"./ClassDetected.vue?vue&type=script&lang=js\"\nexport * from \"./ClassDetected.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\repos\\\\deteksi_produk-electron\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import * as tf from \"@tensorflow/tfjs\";\r\n\r\ntf.setBackend(\"webgl\");\r\n\r\nexport default class ObjectDetection {\r\n\r\n    constructor({\r\n        model_url,\r\n        classes_url,\r\n    }) {\r\n        this.model = null\r\n        this.classes = null\r\n\r\n        this.model_url = model_url\r\n        this.classes_url = classes_url\r\n    }\r\n\r\n    isModelLoaded = () => {\r\n        return this.model !== null\r\n    }\r\n    isClassesLoaded = () => {\r\n        return this.classes !== null\r\n    }\r\n\r\n    loadModel = async () => {\r\n        this.model = await Object.freeze(\r\n            tf.loadGraphModel(this.model_url)\r\n        );\r\n    }\r\n    loadClasses = async () => {\r\n        this.classes = await fetch(this.classes_url)\r\n            .then((r) => r.json())\r\n        return this.classes\r\n\r\n    }\r\n\r\n    detect = async (image, detection_threshold = 0.5) => {\r\n        if (!this.isModelLoaded()) {\r\n            console.error('Model not yet loaded')\r\n            return undefined\r\n        }\r\n        if (!this.isClassesLoaded()) {\r\n            console.error('Classes are empty')\r\n            return undefined\r\n        }\r\n\r\n        const detection = await this.model.executeAsync(\r\n            await this._preprocessImg(image)\r\n        );\r\n\r\n        const detectionObjects = this._buildDetectedObjects({\r\n            classes: detection[0].dataSync(),\r\n            scores: detection[1].arraySync(),\r\n            boxes: detection[5].arraySync(),\r\n            classesDir: this.classes,\r\n            threshold: detection_threshold,\r\n            frame: image\r\n        });\r\n\r\n        return detectionObjects\r\n    }\r\n\r\n    _preprocessImg = async (image) => {\r\n        const tfimg = tf.browser.fromPixels(image).toInt();\r\n        const expandedimg = tfimg.transpose([0, 1, 2]).expandDims();\r\n        return expandedimg;\r\n    }\r\n\r\n    _buildDetectedObjects = ({ scores, threshold, boxes, classes, classesDir, frame }) => {\r\n        const detectionObjects = [];\r\n\r\n        scores[0].forEach((score, i) => {\r\n            if (score > threshold) {\r\n                const bbox = [];\r\n                const minY = boxes[0][i][0] * frame.naturalHeight;\r\n                const minX = boxes[0][i][1] * frame.naturalWidth;\r\n                const maxY = boxes[0][i][2] * frame.naturalHeight;\r\n                const maxX = boxes[0][i][3] * frame.naturalWidth;\r\n\r\n                bbox[0] = minX;\r\n                bbox[1] = minY;\r\n                bbox[2] = maxX - minX;\r\n                bbox[3] = maxY - minY;\r\n\r\n                detectionObjects.push({\r\n                    class: classesDir[classes[i]],\r\n                    score: score.toFixed(4),\r\n                    bbox: bbox,\r\n                });\r\n            }\r\n        });\r\n        return detectionObjects;\r\n    }\r\n}","export default class DetectionResult {\r\n\r\n    constructor(detection) {\r\n        if (!Array.isArray(detection)) {\r\n            this.raw_detection = []\r\n        } else {\r\n            this.raw_detection = detection\r\n        }\r\n    }\r\n\r\n    get length() {\r\n        return this.raw_detection.length\r\n    }\r\n\r\n    get groupedInvoice() {\r\n        const invoice = []\r\n        this.raw_detection.forEach((item) => {\r\n\r\n            let itemExist = false\r\n            for (let i = 0; i < invoice.length; i++) {\r\n                if (item.class.id == invoice[i].id) {\r\n                    itemExist = true\r\n                    invoice[i].quantity++\r\n                    break\r\n                }\r\n            }\r\n\r\n            if (!itemExist) {\r\n                invoice.push({ ...item.class, quantity: 1 })\r\n            }\r\n        })\r\n\r\n        return invoice\r\n    }\r\n\r\n    get invoice() {\r\n        return this.raw_detection\r\n    }\r\n\r\n    get invoiceTotal() {\r\n        return this.raw_detection.reduce(\r\n            (sum, item) => sum + item.class.price,\r\n            0\r\n        )\r\n    }\r\n}\r\n\r\n\r\n/*\r\nData structure\r\n    \r\n-------------------------------------\r\ninvoice (Array)\r\n-------------------------------------\r\n    \r\n    bbox: [\r\n        101.13,\r\n        235.92,\r\n        123.69,\r\n        294.41,\r\n    ],\r\n    class: {\r\n        color: \"#f44336\",\r\n        id: 1,\r\n        name: \"Coca-Cola\",\r\n        price: 5000,\r\n    },\r\n    score: \"0.7891\",\r\n\r\n\r\n-------------------------------------\r\ngrouped invoice (Array)\r\n-------------------------------------\r\n\r\n    color: \"#f44336\",\r\n    id: 1,\r\n    name: \"Coca-Cola\",\r\n    price: 5000,\r\n    quantity: 1,\r\n\r\n\r\n*/","import { render } from \"./App.vue?vue&type=template&id=348e9254\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=348e9254&lang=css\"\n\nimport exportComponent from \"C:\\\\repos\\\\deteksi_produk-electron\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue'\r\nimport App from './App.vue'\r\n\r\nimport 'bootstrap/dist/css/bootstrap.css'\r\nimport 'material-icons/iconfont/filled.css';\r\n\r\ncreateApp(App).mount('#app')\r\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./InvoiceTable.vue?vue&type=style&index=0&id=85fa55c2&lang=css\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./App.vue?vue&type=style&index=0&id=348e9254&lang=css\""],"sourceRoot":""}