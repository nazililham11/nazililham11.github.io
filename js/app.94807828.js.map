{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?18d0","webpack:///./src/App.vue","webpack:///./src/plugins/Predict.js","webpack:///./src/App.vue?8ecf","webpack:///./src/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","class","id","for","style","colspan","type","ref","fileChanged","accept","src","image_url","alt","ImageLoad","isImageLoaded","detectionBox","item","index","isPredicted","detection","hide","groupedItems","color","hideDetection","count","isPredicting","isLoadingModel","numFormat","invoiceDetails","total","invoice","parseFloat","score","toFixed","price","predict","debig","clearImage","predictionTime","tf","loadModel","model_url","preprocessImg","image","tfimg","fromPixels","toInt","expandedimg","transpose","expandDims","buildDetectedObjects","scores","threshold","boxes","classes","classesDir","frame","detectionObjects","forEach","bbox","minY","offsetHeight","minX","offsetWidth","maxY","maxX","getDetectionObjects","predictions","dataSync","arraySync","model","imageSize","width","height","isLoading","base_url","undefined","watch","newVal","this","renderBoundingBox","methods","freeze","loadClasses","fetch","then","json","init","addInvoiceItems","items","itemExist","quantity","deleteInvoice","event","file","target","files","URL","createObjectURL","timeStart","Date","now","document","getElementById","isModelLoaded","executeAsync","console","log","timeEnd","predict_time","$refs","ref_image_input","e","parent","getBoundingClientRect","classList","add","val","x","isNaN","re","Math","max","replace","RegExp","canvas","ctx","getContext","clearRect","font","textBaseline","y","label","strokeStyle","lineWidth","strokeRect","fillStyle","textWidth","measureText","textHeight","parseInt","fillRect","fillText","toDataURL","classId","computed","reduce","sum","arr","isExists","mounted","__exports__","render","createApp","App","mount"],"mappings":"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","file":"js/app.94807828.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./App.vue?vue&type=style&index=0&id=1789ac49&lang=css\"","<template>\r\n    <!-- File Input Instances -->\r\n    <input type=\"file\" name=\"image_input\" \r\n        ref=\"ref_image_input\"\r\n        id=\"image_input\" \r\n        @change=\"fileChanged\" \r\n        accept=\"image/jpg, image/jpeg, image/png\">\r\n\r\n    <div class=\"card flex-row main-container\" >\r\n        <div class=\"flex-col w-50 grey darken-2\">\r\n            <div id=\"image_wrapper\" class=\"image-wrapper flex-fill\">\r\n                                        \r\n                <!-- Image Shown -->\r\n                <img id=\"predict-image\" :src=\"image_url\" alt=\"Image\" v-show=\"isImageLoaded\" @load=\"ImageLoad\">\r\n                <img :src=\"item\" :alt=\"index\" \r\n                    v-for=\"(item, index) in detectionBox\" :key=\"index\"\r\n                    v-show=\"isPredicted && (!detection[index].hide)\">\r\n\r\n                <span class=\"image-title\" v-if=\"isPredicted\">\r\n                    <a class=\"btn btn-small mr-2\" \r\n                        v-for=\"(item, index) in groupedItems\"\r\n                        :key=\"index\"\r\n                        :style=\"'background-color: '+item.color\"\r\n                        @click=\"hideDetection(item.id)\">\r\n\r\n                        <span class=\"valign-wrapper\">\r\n                            <i class=\"material-icons mr-2\">close</i>\r\n                            {{ item.name }} ({{ item.count }})\r\n                        </span>\r\n                    </a>\r\n                </span>\r\n\r\n                <!-- Predicted Mask -->\r\n                <div class=\"predicted-mask\" v-show=\"isPredicted\">\r\n                    <canvas id=\"prediction-result\" v-show=\"false\"></canvas>\r\n                </div>\r\n\r\n                <!-- Loading Mask -->\r\n                <div class=\"loading-mask white-text\" v-show=\"isPredicting\">\r\n                        <div class=\"preloader-wrapper big active\">\r\n                        <div class=\"spinner-layer spinner-blue-only\">\r\n                            <div class=\"circle-clipper left\">\r\n                                <div class=\"circle\"></div>\r\n                            </div><div class=\"gap-patch\">\r\n                                <div class=\"circle\"></div>\r\n                            </div><div class=\"circle-clipper right\">\r\n                                <div class=\"circle\"></div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <h6>Memproses</h6>\r\n                </div>\r\n                \r\n                <!-- Insert Image -->\r\n                <div class=\"flex-col insert-image\" v-show=\"!isImageLoaded\">\r\n                    <i class=\"material-icons grey-text text-darken-3\">add_a_photo</i>\r\n\r\n                    <a class=\"btn waves-effect waves-light\">\r\n                        <label class=\"valign-wrapper white-text\" for=\"image_input\" style=\"font-size: 14px\">\r\n                            <i class=\"material-icons mr-2\">add</i>\r\n                            Input gambar\r\n                        </label>\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"flex-col w-50\">\r\n            <div class=\"card-content flex-fill\">\r\n\r\n                <!-- Model Status -->\r\n                <h6 class=\"green-text valign-wrapper\" style=\"height: 2rem\">\r\n                    <i class=\"material-icons mr-2\" v-if=\"!isLoadingModel\">check_circle</i>\r\n                    <span class=\"loader mr-2\" v-else></span>\r\n                    <span>{{ isLoadingModel ? \"Loading Model\" : \"Models Loaded\" }}</span>\r\n                </h6>\r\n\r\n                <!-- Total -->\r\n                <div class=\"right-align grey-text text-darken-3 invoice-total\">\r\n                    <h6>Total</h6>\r\n                    <h3>Rp.{{ numFormat(invoiceDetails.total, 2, 3) }}-</h3>\r\n                </div>\r\n\r\n                <div class=\"divider grey darken-3 my-4\"></div>\r\n\r\n                <!-- Invaice Table -->\r\n                <div id=\"table-wrapper\">\r\n                    <div id=\"table-scroll\">\r\n                        <table>\r\n                            <thead>\r\n                                <tr>\r\n                                    <th class=\"col-num\"><span class=\"text\"></span></th>\r\n                                    <th class=\"col-title\"><span class=\"text\">Nama Item</span></th>\r\n                                    <th class=\"col-accuracy\"><span class=\"text\">Akurasi</span></th>\r\n                                    <th class=\"col-price\"><span class=\"text\">Harga</span></th>\r\n                                </tr>\r\n                            </thead>\r\n\r\n                            <tbody>\r\n                                <tr v-if=\"!invoice.length\">\r\n                                    <td class=\"center-align grey-text\" colspan=\"5\">\r\n                                        <i class=\"material-icons\" style=\"font-size: 5rem\">production_quantity_limits</i>\r\n                                        <h5 style=\"font-size: 1.64rem\">\r\n                                            Tidak ada barang\r\n                                        </h5>\r\n                                    </td>\r\n                                </tr>\r\n                                <tr v-else v-for=\"(item, index) in detection\" :key=\"index\">\r\n                                    <td class=\"col-num\">{{ index+1 }}</td>\r\n                                    <td class=\"col-title\">{{ item.class.name }}</td>\r\n                                    <td class=\"col-accuracy\">{{ parseFloat(item.score*100).toFixed(1) }}%</td>\r\n                                    <td class=\"col-price\">Rp.{{ numFormat(item.class.price, 0, 3) }}</td>\r\n                                    \r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n            </div>\r\n\r\n            <div class=\"card-action\">\r\n                \r\n                <!-- Cancel Prediction Button -->\r\n                <a class=\"btn waves-effect waves-light mx-1 red\" v-if=\"isPredicting\">\r\n                    <span class=\"valign-wrapper\">\r\n                        <i class=\"material-icons mr-2\">close</i>\r\n                        Batal\r\n                    </span>\r\n                </a>\r\n\r\n                <!-- Prediction Button -->\r\n                <a class=\"btn waves-effect waves-light mx-1\" @click=\"predict\" v-else\r\n                    :class=\"{'disabled': !isImageLoaded || isPredicted}\">\r\n                    <span class=\"valign-wrapper\">\r\n                        <i class=\"material-icons mr-2\">filter_center_focus</i>\r\n                        Deteksi\r\n                    </span>\r\n                </a>\r\n\r\n                <!-- Checkout Button -->\r\n                <a class=\"btn waves-effect waves-light mx-1\" v-show=\"false\" @click=\"debig\">\r\n                    <span class=\"valign-wrapper\">\r\n                        <i class=\"material-icons mr-2\">shopping_cart</i>\r\n                        Checkout\r\n                    </span>\r\n                </a>\r\n                \r\n                <!-- Reset Button -->\r\n                <a class=\"btn waves-effect waves-light blue mx-1\" @click=\"clearImage\"\r\n                    :class=\"{'disabled': !isImageLoaded}\">\r\n                    <span class=\"valign-wrapper\">\r\n                        <i class=\"material-icons mr-2\">cached</i>\r\n                        Reset\r\n                    </span>\r\n                </a>\r\n                \r\n                <span v-if=\"predictionTime\">\r\n                    <i>Waktu Deteksi : {{predictionTime}} ms</i>\r\n                </span>\r\n\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport * as Predict from \"./plugins/Predict.js\";\r\n\r\nexport default {\r\n    name: \"App\",\r\n    data() {\r\n        return {\r\n            model: null,\r\n            isLoadingModel: false,\r\n            detection: [],\r\n            detectionBox: [],\r\n\r\n            image_url: \"\",\r\n            imageSize: { width: 0, height: 0 },\r\n            isImageLoaded: false,\r\n\r\n            isPredicting: false,\r\n            invoice: [],\r\n            isPredicted: false,\r\n            isLoading: false,\r\n            classes: [],\r\n            base_url: '/',\r\n            predictionTime: undefined,\r\n        };\r\n    },\r\n    watch: {\r\n        detection(newVal){\r\n            // console.log('detected',newVal)\r\n            this.detectionBox = []\r\n            for (let i = 0; i < newVal.length || 0; i++){\r\n                const item = newVal[i]\r\n                this.detectionBox.push(this.renderBoundingBox(item))\r\n            }\r\n            // console.log(\"boxes\",this.detectionBox)\r\n        }\r\n    },\r\n    methods: {\r\n        async loadModel() {\r\n            this.isLoadingModel = true\r\n            this.model = Object.freeze(await Predict.loadModel(this.base_url+\"model/model.json\"));\r\n            this.isLoadingModel = false\r\n        },\r\n        async loadClasses() {\r\n            this.classes = await fetch(this.base_url+\"product_data.json\").then((r) => {\r\n                return r.json();\r\n            });\r\n        },\r\n        init() {\r\n            this.isPredicted = false;\r\n            this.image_url = this.base_url+\"product.png\";\r\n        },\r\n\r\n        addInvoiceItems(items) {\r\n            items.forEach((item) => {\r\n                let itemExist = false;\r\n                for (let index = 0; index < this.invoice.length; index++) {\r\n                    if (item.class.id == this.invoice[index].id) {\r\n                        itemExist = true;\r\n                        this.invoice[index].quantity++;\r\n                        // this.invoice[index].price += item.class.price;\r\n                        break;\r\n                    }\r\n                }\r\n                if (!itemExist) {\r\n                    this.invoice.push({ ...item.class, quantity: 1 });\r\n                }\r\n            });\r\n        },\r\n\r\n        deleteInvoice(index) {\r\n            if (this.invoice.length > -1) {\r\n                this.invoice.splice(index, 1);\r\n            }\r\n        },\r\n\r\n        // File methods\r\n        fileChanged(event) {\r\n            const file = event.target.files[0];\r\n            this.image_url = URL.createObjectURL(file);\r\n            if (this.image_url != \"\")\r\n                this.isImageLoaded = true\r\n        },\r\n\r\n        // Prediction\r\n        async predict() {\r\n            const timeStart = Date.now()\r\n            this.isPredicting = true\r\n            this.isPredicted = false;\r\n            this.isLoading = true;\r\n            const image = document.getElementById(\"predict-image\");\r\n\r\n            if (!this.isModelLoaded)\r\n                return \r\n\r\n            const predictions = await this.model.executeAsync(\r\n                await Predict.preprocessImg(image)\r\n            );\r\n\r\n            const detectionObjects = Predict.getDetectionObjects(\r\n                predictions, 0.5, this.classes, image\r\n            );\r\n            if (detectionObjects.length > 0) {\r\n                console.log(\"object detected\", detectionObjects);\r\n                this.addInvoiceItems(detectionObjects);\r\n                this.detection = detectionObjects\r\n                this.isPredicted = true;\r\n                const timeEnd = Date.now()\r\n                const predict_time = timeEnd - timeStart\r\n                this.predictionTime = predict_time\r\n                console.log({predict_time})\r\n            }\r\n            this.isLoading = false\r\n            this.isPredicting = false\r\n        },\r\n        clearImage(){\r\n            this.detection = []\r\n            this.$refs.ref_image_input.value = null\r\n            this.image_url = \"\"\r\n            this.isImageLoaded = false\r\n            this.imageSize = { width: 0, height: 0 }\r\n            this.isPredicted = false\r\n            this.invoice = []\r\n            this.predictionTime = undefined\r\n        },\r\n        ImageLoad(e){\r\n            const { width, height } = e.target\r\n            const parent = document.getElementById('image_wrapper').getBoundingClientRect()\r\n            if (width < parent.width && height < parent.height){\r\n                document.getElementById('predict-image').classList.add(\"h-100\");\r\n            }\r\n            this.imageSize\r\n        },\r\n        numFormat(val, n, x){\r\n            if (isNaN(val))\r\n                return '-'\r\n            var re = '\\\\d(?=(\\\\d{' + (x || 3) + '})+' + (n > 0 ? '\\\\.' : '$') + ')';\r\n            return val.toFixed(Math.max(0, ~~n)).replace(new RegExp(re, 'g'), '$&,');\r\n        },\r\n        renderBoundingBox(item){\r\n            const canvas  = document.getElementById(\"prediction-result\");\r\n            const image = document.getElementById(\"predict-image\");\r\n\r\n            canvas.width = image.offsetWidth;\r\n            canvas.height = image.offsetHeight;\r\n            const ctx = canvas.getContext(\"2d\");\r\n            ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\r\n            \r\n            // Font options.\r\n            const font = \"16px sans-serif\";\r\n            ctx.font = font;\r\n            ctx.textBaseline = \"top\";\r\n\r\n            const x = item.bbox[0];\r\n            const y = item.bbox[1];\r\n            const width = item.bbox[2];\r\n            const height = item.bbox[3];\r\n            const score = (100 * item.score).toFixed(2);\r\n            const label = `${item.class.name} ${score}%`;\r\n\r\n            // Draw the bounding box.\r\n            ctx.strokeStyle = item.class.color;\r\n            ctx.lineWidth = 3;\r\n            ctx.strokeRect(x, y + 1, width, height);\r\n\r\n            // Draw the label background.\r\n            ctx.fillStyle = item.class.color;\r\n            const textWidth = ctx.measureText(label).width;\r\n            const textHeight = parseInt(font, 7); // base 10\r\n            ctx.fillRect(x, y, textWidth + 5, textHeight + 5);\r\n\r\n            // Draw the text last to ensure it's on top.\r\n            ctx.fillStyle = \"#ffffff\";\r\n            ctx.fillText(label, x + 2, y + 2);\r\n            return canvas.toDataURL('image/png')\r\n        },\r\n        hideDetection(classId){\r\n            this.detection.forEach(e => {\r\n                if (e.class.id == classId)\r\n                    e.hide = !(e.hide || false)\r\n            })\r\n        }\r\n    },\r\n    computed: {\r\n        invoiceDetails() {\r\n            return {\r\n                items: this.detection.length,\r\n                total: this.groupedItems.reduce(\r\n                    (sum, item) => sum + item.price * item.count,\r\n                    0\r\n                ),\r\n            };\r\n        },\r\n        isModelLoaded() {\r\n            return this.model != null;\r\n        },\r\n        groupedItems(){\r\n            let arr = []\r\n            for (let i = 0; i < this.detection.length; i++){\r\n                let isExists = false\r\n                for (let j = 0; j < arr.length; j++) {\r\n                    if (arr[j].id == this.detection[i].class.id){\r\n                        isExists = true\r\n                        arr[j].count++\r\n                    }\r\n                }\r\n                if (!isExists){\r\n                    arr.push({...this.detection[i].class, count: 1})\r\n                } \r\n            }\r\n            return arr\r\n        },\r\n    },\r\n    async mounted() {\r\n        this.init();\r\n        this.isLoading = true;\r\n        await this.loadModel();\r\n        await this.loadClasses();\r\n        this.isLoading = false;\r\n    },\r\n};\r\n</script>\r\n\r\n<style>\r\n@import './style.css';\r\n</style>","import * as tf from \"@tensorflow/tfjs\";\r\n\r\ntf.setBackend(\"webgl\");\r\n\r\nexport const loadModel = async (model_url) => {\r\n    return await tf.loadGraphModel(model_url);\r\n}\r\n\r\nexport const preprocessImg = async (image) => {\r\n    const tfimg = tf.browser.fromPixels(image).toInt();\r\n    const expandedimg = tfimg.transpose([0, 1, 2]).expandDims();\r\n    return expandedimg;\r\n}\r\n\r\nexport const buildDetectedObjects = ({ scores, threshold, boxes, classes, classesDir, frame }) => {\r\n    const detectionObjects = [];\r\n\r\n    scores[0].forEach((score, i) => {\r\n        if (score > threshold) {\r\n            const bbox = [];\r\n            const minY = boxes[0][i][0] * frame.offsetHeight;\r\n            const minX = boxes[0][i][1] * frame.offsetWidth;\r\n            const maxY = boxes[0][i][2] * frame.offsetHeight;\r\n            const maxX = boxes[0][i][3] * frame.offsetWidth;\r\n\r\n            bbox[0] = minX;\r\n            bbox[1] = minY;\r\n            bbox[2] = maxX - minX;\r\n            bbox[3] = maxY - minY;\r\n\r\n            detectionObjects.push({\r\n                class: classesDir[classes[i]],\r\n                score: score.toFixed(4),\r\n                bbox: bbox,\r\n            });\r\n        }\r\n    });\r\n    return detectionObjects;\r\n}\r\n\r\nexport const renderPredictions = (detection, canvas, image) => {\r\n    canvas.width = image.offsetWidth;\r\n    canvas.height = image.offsetHeight;\r\n    const ctx = canvas.getContext(\"2d\");\r\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\r\n    console.log('image.size',{w:image.width, h: image.height})\r\n    // ctx.drawImage(image,0,0,image.naturalWidth,image.naturalHeight,0,0,canvas.width,canvas.height);\r\n\r\n    // Font options.\r\n    const font = \"16px sans-serif\";\r\n    ctx.font = font;\r\n    ctx.textBaseline = \"top\";\r\n\r\n    detection.forEach((item) => {\r\n        const x = item.bbox[0];\r\n        const y = item.bbox[1];\r\n        const width = item.bbox[2];\r\n        const height = item.bbox[3];\r\n        const score = (100 * item.score).toFixed(2);\r\n        const label = `${item.class.name} ${score}%`;\r\n\r\n        // Draw the bounding box.\r\n        ctx.strokeStyle = item.class.color;\r\n        ctx.lineWidth = 3;\r\n        ctx.strokeRect(x, y + 1, width, height);\r\n\r\n        // Draw the label background.\r\n        ctx.fillStyle = item.class.color;\r\n        const textWidth = ctx.measureText(label).width;\r\n        const textHeight = parseInt(font, 7); // base 10\r\n        ctx.fillRect(x, y, textWidth + 5, textHeight + 5);\r\n\r\n        // Draw the text last to ensure it's on top.\r\n        ctx.fillStyle = \"#ffffff\";\r\n        ctx.fillText(label, x + 2, y + 2);\r\n    });\r\n}\r\n\r\nexport const getDetectionObjects = (predictions, threshold, classes, frame) => {\r\n    return buildDetectedObjects({\r\n        classes: predictions[0].dataSync(),\r\n        scores: predictions[1].arraySync(),\r\n        boxes: predictions[5].arraySync(),\r\n        classesDir: classes,\r\n        threshold,\r\n        frame,\r\n    });\r\n}","import { render } from \"./App.vue?vue&type=template&id=1789ac49\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=1789ac49&lang=css\"\n\nimport exportComponent from \"C:\\\\repos\\\\deteksi_produk-electron\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue'\r\nimport App from './App.vue'\r\nimport 'materialize-css/dist/css/materialize.css'\r\nimport 'material-icons/iconfont/filled.css';\r\n\r\ncreateApp(App).mount('#app')\r\n"],"sourceRoot":""}